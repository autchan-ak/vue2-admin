(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23dd9826","chunk-2d0da7ed"],{6657:function(e,n,o){"use strict";o("e7b0")},"6c9c":function(e,n,o){"use strict";o.r(n);var t=o("41e4"),l=(o("1200"),o("c048"),o("e1a1"),o("8241"),o("3efe"),o("13ae"),o("fcb1")),i=function(e){return e.keys()},c=/\.\/(.*)\.svg/,a=i(l).map((function(e){return"svg-icon-"+e.match(c)[1]})),r=[].concat(Object(t["a"])(a),["el-icon-platform-eleme","el-icon-delete-solid","el-icon-eleme","el-icon-c-scale-to-original","el-icon-sort-up","el-icon-sort-down","el-icon-upload","el-icon-goods","el-icon-video-pause","el-icon-video-play","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-help","el-icon-s-goods","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-tools","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-fold","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-user-solid","el-icon-question","el-icon-warning","el-icon-remove","el-icon-info","el-icon-circle-plus","el-icon-picture","el-icon-location","el-icon-error","el-icon-success","el-icon-camera-solid","el-icon-d-caret","el-icon-message-solid","el-icon-menu","el-icon-star-on","el-icon-video-camera-solid","el-icon-phone","el-icon-more","el-icon-share","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-date","el-icon-circle-close","el-icon-edit","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-download","el-icon-upload2","el-icon-takeaway-box","el-icon-camera","el-icon-search","el-icon-zoom-in","el-icon-zoom-out","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-video-camera","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-data-line","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-edit-outline","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-picture-outline-round","el-icon-picture-outline","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-news","el-icon-help","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bell","el-icon-bangzhu","el-icon-circle-plus-outline","el-icon-remove-outline","el-icon-circle-check","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-star-off","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-bottom-left","el-icon-bottom-right","el-icon-bottom","el-icon-back","el-icon-right","el-icon-top-left","el-icon-top-right","el-icon-top","el-icon-lock","el-icon-unlock","el-icon-user","el-icon-key","el-icon-arrow-up","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-left","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-close","el-icon-check","el-icon-plus","el-icon-minus","el-icon-delete","el-icon-sold-out","el-icon-sell","el-icon-service","el-icon-mobile-phone","el-icon-sort","el-icon-rank","el-icon-refresh","el-icon-loading","el-icon-view","el-icon-finished","el-icon-more-outline","el-icon-phone-outline","el-icon-setting","el-icon-warning-outline","el-icon-refresh-right","el-icon-refresh-left","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"]);n["default"]=r},"93b8":function(e,n,o){"use strict";o.r(n);o("cc0c"),o("3324");var t=function(){var e=this,n=e._self._c;return n("div",{staticClass:"table-page"},[n("div",{staticClass:"queryInfo"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{sm:8,md:6}},[n("el-input",{attrs:{clearable:"",size:"small",placeholder:"请输入菜单名称"},model:{value:e.queryInfo.params.title,callback:function(n){e.$set(e.queryInfo.params,"title","string"===typeof n?n.trim():n)},expression:"queryInfo.params.title"}})],1),n("el-col",{attrs:{sm:8,md:6}},[n("el-input",{attrs:{clearable:"",size:"small",placeholder:"请输入父级ID"},model:{value:e.queryInfo.params.parentId,callback:function(n){e.$set(e.queryInfo.params,"parentId","string"===typeof n?n.trim():n)},expression:"queryInfo.params.parentId"}})],1),n("el-col",{attrs:{sm:8,md:6}},[n("el-select",{attrs:{size:"small",clearable:"",placeholder:"请选择菜单状态"},model:{value:e.queryInfo.params.menuType,callback:function(n){e.$set(e.queryInfo.params,"menuType",n)},expression:"queryInfo.params.menuType"}},[n("el-option",{attrs:{label:"目录",value:"M"}}),n("el-option",{attrs:{label:"页面",value:"C"}}),n("el-option",{attrs:{label:"按钮",value:"B"}})],1)],1),n("el-col",{attrs:{sm:8,md:6}},[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"query",expression:"'query'"}],attrs:{type:"primary",size:"small"},on:{click:function(n){return e.seach_query()}}},[e._v("搜索")]),n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.reset_query()}}},[e._v("重置")])],1)],1)],1),n("div",{staticClass:"main_list"},[n("div",{staticClass:"button_group"},[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"add",expression:"'add'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(n){return e.showDialogAdd(0)}}},[e._v("新增")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){e.isFold=!e.isFold}}},[n("i",{staticClass:"el-icon-sort",staticStyle:{transform:"rotate(90deg)"}}),e._v(" 展开/折叠")])],1),e.menuTable?n("el-table",{ref:"menuTable",attrs:{border:"",content:"content",size:"small","row-key":"id",data:e.tableData,"default-expand-all":e.isFold}},[n("el-table-column",{attrs:{prop:"id",label:"ID","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"parentId",label:"父级ID","show-overflow-tooltip":"",width:"60",align:"center"}}),n("el-table-column",{attrs:{label:"菜单名称"},scopedSlots:e._u([{key:"default",fn:function(o){var t=o.row;return[n("span",{staticClass:"icon"},[t.icon?n("svg-icon",{attrs:{icon:t.icon}}):e._e()],1),e._v(" "+e._s(t.title)+" ")]}}],null,!1,1606573881)}),n("el-table-column",{attrs:{prop:"path",label:"菜单路径","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"authority",label:"权限标识","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"50",align:"center"}}),n("el-table-column",{attrs:{label:"类型",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){var t=o.row;return["M"==t.menuType?n("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v("目录")]):e._e(),"C"==t.menuType?n("el-tag",{attrs:{effect:"dark"}},[e._v("页面")]):e._e(),"B"==t.menuType?n("el-tag",{attrs:{type:"warning",effect:"dark"}},[e._v("按钮")]):e._e()]}}],null,!1,4076679726)}),n("el-table-column",{attrs:{label:"可见",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){var t=o.row;return[t.isShow?n("el-tag",{attrs:{type:"success",effect:"dark"}},[e._v("显示")]):n("el-tag",{attrs:{type:"warning",effect:"dark"}},[e._v("影藏")])]}}],null,!1,1656290613)}),n("el-table-column",{attrs:{label:"可用",width:"62",align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){var t=o.row;return[n("el-switch",{directives:[{name:"permission",rawName:"v-permission",value:"state",expression:"'state'"}],attrs:{"active-value":!1,"inactive-value":!0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(n){return e.changeEna(t)}},model:{value:t.state,callback:function(n){e.$set(t,"state",n)},expression:"row.state"}})]}}],null,!1,168760127)}),n("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(o){var t=o.row;return[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"update",expression:"'update'"}],staticClass:"textyell",attrs:{type:"text",size:"mini"},on:{click:function(n){return e.modify(t)}}},[e._v("修改")]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"add",expression:"'add'"},{name:"show",rawName:"v-show",value:"B"!=t.menuType,expression:"row.menuType != 'B'"}],attrs:{type:"text",size:"mini"},on:{click:function(n){return e.showDialogAdd(t)}}},[e._v("新增")]),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"delete",expression:"'delete'"}],staticClass:"textRed",attrs:{type:"text",size:"mini"},on:{click:function(n){return e.romeMenu(t)}}},[e._v("删除")])]}}],null,!1,1386810357)})],1):e._e()],1),n("el-dialog",{attrs:{title:e.dialogData.title,visible:e.dialogVisible,"close-on-click-modal":!1,width:"40%","before-close":e.handleClose},on:{"update:visible":function(n){e.dialogVisible=n}}},[n("el-form",{ref:"menuForm",attrs:{model:e.menuForm,"status-icon":"",rules:e.menuRole,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"上级菜单"}},[n("el-select",{ref:"el-tree-select",attrs:{disabled:e.dialogData.parent,clearable:"",placeholder:"请选择"},model:{value:e.menuForm.parentId,callback:function(n){e.$set(e.menuForm,"parentId",n)},expression:"menuForm.parentId"}},[n("el-option",{attrs:{label:"主目录",value:1}}),n("el-option",{staticClass:"el-tree-select-option",attrs:{value:e.menuForm.parentId,label:e.menuForm.parent_name}},[n("el-tree",{ref:"el-select-tree",staticClass:"el-tree-select-dropdown",attrs:{data:e.menuTree,"show-checkbox":"","node-key":"id","check-strictly":"","check-on-click-node":!1,"default-expanded-keys":[e.menuForm.parentId],props:e.defaultProps},on:{check:e._check}})],1)],1)],1),n("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[n("el-radio-group",{model:{value:e.menuForm.menuType,callback:function(n){e.$set(e.menuForm,"menuType",n)},expression:"menuForm.menuType"}},[n("el-radio",{attrs:{label:"M"}},[e._v("目录")]),n("el-radio",{attrs:{label:"C"}},[e._v("页面")]),n("el-radio",{attrs:{label:"B"}},[e._v("按钮")])],1)],1),n("el-form-item",{attrs:{label:"菜单名称",prop:"title"}},[n("el-input",{model:{value:e.menuForm.title,callback:function(n){e.$set(e.menuForm,"title","string"===typeof n?n.trim():n)},expression:"menuForm.title"}})],1),n("el-form-item",{attrs:{label:"菜单路径",prop:"path"}},[n("el-input",{model:{value:e.menuForm.path,callback:function(n){e.$set(e.menuForm,"path",n)},expression:"menuForm.path"}})],1),n("el-form-item",{attrs:{label:"权限标识",prop:"authority"}},[n("el-input",{model:{value:e.menuForm.authority,callback:function(n){e.$set(e.menuForm,"authority","string"===typeof n?n.trim():n)},expression:"menuForm.authority"}})],1),n("el-form-item",{attrs:{label:"排序"}},[n("el-input",{attrs:{type:"number"},nativeOn:{keydown:function(n){return e.inputNamber.apply(null,arguments)}},model:{value:e.menuForm.orderNum,callback:function(n){e.$set(e.menuForm,"orderNum","string"===typeof n?n.trim():n)},expression:"menuForm.orderNum"}})],1),n("el-form-item",{attrs:{label:"图标",prop:"icon"}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:e.menuForm.icon,callback:function(n){e.$set(e.menuForm,"icon",n)},expression:"menuForm.icon"}},e._l(e.icons,(function(o,t){return n("el-option",{key:t,attrs:{label:o,value:o}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(o))]),n("span",{staticStyle:{"font-size":"20px",float:"right"}},[n("svg-icon",{staticClass:"el-icon",attrs:{icon:-1!=o.indexOf("svg-icon")?o.slice(9):o}})],1)])})),1)],1),n("el-form-item",{attrs:{label:"状态"}},[n("el-radio",{attrs:{label:!0},model:{value:e.menuForm.isShow,callback:function(n){e.$set(e.menuForm,"isShow",n)},expression:"menuForm.isShow"}},[e._v("显示")]),n("el-radio",{attrs:{label:!1},model:{value:e.menuForm.isShow,callback:function(n){e.$set(e.menuForm,"isShow",n)},expression:"menuForm.isShow"}},[e._v("影藏")])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.menuForm_serve}},[e._v("确 定")])],1)],1)],1)},l=[],i=o("41e4"),c=o("7c3e"),a=o("00f8"),r=o("6730"),s=(o("1200"),o("df89"),o("65a7"),o("e1a1"),o("8241"),o("3751"),o("3096"),o("6eef")),u=o("ed08"),m=o("6c9c"),p=o("562c"),d={name:"menuManage",data:function(){return{isFold:!1,menuTable:!0,menuData:[],tableData:[],menuTree:null,queryInfo:{params:{}},dialogVisible:!1,dialogData:{title:"新增",parent:!1},menuForm:{},menuRole:{menuType:[{required:!0,message:"请选择菜单类型",trigger:"change"}],title:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],path:[{required:!0,message:"请输入菜单路径",trigger:"blur"}]},defaultProps:{children:"children",label:"title"}}},computed:{icons:function(){return m["default"]}},watch:{isFold:function(){var e=this;this.menuTable=!1,this.$nextTick((function(){e.menuTable=!0}))},"menuForm.parentId":function(e){this._reset(e)}},mounted:function(){this.seach_query()},methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])("system",["getList","preservation","menusRome","menusState"])),{},{seach_query:function(){var e=this;return Object(a["a"])(Object(c["a"])().mark((function n(){var o,t;return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Object(u["d"])(!0),n.next=3,e.getList(Object(r["a"])({},e.queryInfo));case 3:o=n.sent,t=o.data,e.menuData=Object(p["f"])(t),e.menuTree=Object(p["a"])(Object(p["f"])(t)),e.tableData=Object(p["a"])(t,!1);case 8:case"end":return n.stop()}}),n)})))()},modify:function(e){var n=this;return Object(a["a"])(Object(c["a"])().mark((function o(){var t;return Object(c["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.menuForm=Object(r["a"])({},e),n.dialogData.parent=!1,n.dialogVisible=!0,n.dialogData.title="修改",1==e.parentId?n.$set(n.menuForm,"parent_name","主目录"):(t=n.menuData.filter((function(n){return n.id===e.parentId})),n.$set(n.menuForm,"parent_name",t[0].title));case 5:case"end":return o.stop()}}),o)})))()},changeEna:function(e){var n=this;return Object(a["a"])(Object(c["a"])().mark((function o(){return Object(c["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.menusState({id:e.id});case 2:n.seach_query();case 3:case"end":return o.stop()}}),o)})))()},showDialogAdd:function(e){var n=this;return Object(a["a"])(Object(c["a"])().mark((function o(){return Object(c["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.$set(n.menuForm,"parentId",1),n.$set(n.menuForm,"parent_name","主目录"),n.$set(n.menuForm,"menuType","M"),n.dialogData.parent=!1,e&&(n.$set(n.menuForm,"parentId",e.id),n.$set(n.menuForm,"parent_name",e.title),n.$set(n.menuForm,"menuType","M"==e.menuType?"C":"B"),n.dialogData.parent=!0),n.$set(n.menuForm,"isShow",!0),n.dialogVisible=!0;case 7:case"end":return o.stop()}}),o)})))()},menuForm_serve:function(){var e=this;this.$refs["menuForm"].validate(function(){var n=Object(a["a"])(Object(c["a"])().mark((function n(o){return Object(c["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return",!1);case 2:return Object(u["d"])("正在保存"),e.menuForm.children=[],n.next=6,e.preservation(Object(r["a"])({},e.menuForm));case 6:e.handleClose();case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},getAllIds:function(e){var n=this,o=[];return e.id&&o.push(e.id),e.children&&e.children.length>0&&e.children.forEach((function(e){o=[].concat(Object(i["a"])(o),Object(i["a"])(n.getAllIds(e)))})),o},romeMenu:function(e){var n=this;Object(u["a"])("确定删除此目录及其子目录吗?","警告",{ok:function(){var o=Object(a["a"])(Object(c["a"])().mark((function o(){return Object(c["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return Object(u["d"])("正在删除"),o.next=3,n.menusRome({id:n.getAllIds(e)});case 3:n.seach_query();case 4:case"end":return o.stop()}}),o)})));function t(){return o.apply(this,arguments)}return t}()})},_reset:function(e){var n=this;this.$nextTick((function(){e?n.$refs["el-select-tree"].setCheckedKeys([e]):n.$refs["el-select-tree"].setCheckedKeys([])}))},_check:function(e,n){this.$set(this.menuForm,"parentId",e.id),this.$set(this.menuForm,"parent_name",e.title),this.$set(this.menuForm,"menuType",e.menuType),this.$refs["el-tree-select"].blur()},handleClose:function(){var e=this;this.menuForm={},this.$refs["menuForm"].resetFields(),this.$nextTick((function(){e.dialogVisible=!1,e.seach_query()}))},reset_query:function(){this.queryInfo={params:{}}},inputNamber:function(e){/\d/.test(e.key)||"Backspace"==e.key||(e.returnValue=!1)}})},f=d,h=(o("6657"),o("0460")),b=Object(h["a"])(f,t,l,!1,null,"074fc0a6",null);n["default"]=b.exports},e7b0:function(e,n,o){}}]);